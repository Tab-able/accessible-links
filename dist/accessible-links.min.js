(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{var mod={exports:{}};factory(mod.exports);global.accessibleLinks=mod.exports}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,(function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.applyFocus=applyFocus;_exports.handleFocusOnAnchor=handleFocusOnAnchor;_exports.onPageLoad=onPageLoad;_exports.onPopState=onPopState;_exports.removeFocus=removeFocus;var focusClass="accessible-links-focused";var trackedElements=new Set;function applyFocus(element){var shouldFocus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!element.hasAttribute("tabindex")){element.setAttribute("tabindex","-1");trackedElements.add(element)}element.classList.add(focusClass);if(shouldFocus){element.focus()}}function removeFocus(element){if(trackedElements.has(element)){element.removeAttribute("tabindex");trackedElements["delete"](element)}element.classList.remove(focusClass)}function handleFocusOnAnchor(anchorId){var destinationElement=document.querySelector(anchorId);if(destinationElement){applyFocus(destinationElement);destinationElement.addEventListener("blur",(function(){return removeFocus(destinationElement)}),{once:true})}}function onPageLoad(){if(window.location.hash){var anchorId=window.location.hash;var destinationElement=document.querySelector(anchorId);if(destinationElement){applyFocus(destinationElement,true)}}}function onPopState(){if(window.location.hash){handleFocusOnAnchor(window.location.hash)}}window.addEventListener("load",onPageLoad);window.addEventListener("popstate",onPopState)}));